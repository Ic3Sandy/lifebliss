<!DOCTYPE html>
<html>
<head>
    <title>Home Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <script>
        // Function to call Flutter
        function callFlutter(message) {
            console.log("Attempting to call Flutter with: " + message);
            try {
                if (window.flutter && typeof window.flutter.postMessage === 'function') {
                    window.flutter.postMessage(message);
                    console.log("Message sent to Flutter");
                    return true;
                } else {
                    console.log("Flutter channel not available or not a function");
                    return false;
                }
            } catch (e) {
                console.log("Error calling Flutter: " + e);
                return false;
            }
        }
    </script>
</head>
<body>
    <h1 id="app-title">Lifebliss</h1>
    <!-- <p>This content is rendered via WebView.</p> -->

    <script>
        window.onload = function() {
            setTimeout(() => {
                console.log("Setting up title element");
                const titleElement = document.getElementById('app-title');
                if (titleElement) {
                    // Apply styles using CSS transform for centering
                    titleElement.style.position = 'absolute';
                    titleElement.style.top = '50%'; // Position top edge at 50%
                    titleElement.style.left = '50%'; 
                    // Use transform to shift up/left by half of the element's size
                    titleElement.style.transform = 'translate(-50%, -50%)'; 
                    titleElement.style.width = '90%'; 
                    titleElement.style.textAlign = 'center';
                    
                    // Add cursor style to indicate it's clickable
                    titleElement.style.cursor = 'pointer';
                    
                    // Add click event listener that calls Flutter for random color
                    titleElement.addEventListener('click', function() {
                        console.log("Title clicked - requesting random color from Flutter");
                        
                        // Notify Flutter to generate a random color
                        callFlutter("titleClicked");
                    });

                    console.log("Click handler attached successfully");
                } else {
                    console.error("Could not find app-title element");
                }
            }, 100); // Keep the small delay for stability
        };
    </script>
</body>
</html> 